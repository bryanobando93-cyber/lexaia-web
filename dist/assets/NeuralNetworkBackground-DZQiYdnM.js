import{j as M}from"./ui-vendor-B5b5SF6v.js";import{a as m}from"./react-vendor-D9H_PEm5.js";import{S as ae,P as re,W as oe,a as L,M as se,b as A,A as ce,c as q,d as T,V as v,B as X,L as ie,e as le,R as Y,f as $,g as de,h as me,i as ue}from"./three-vendor-yAn1vjmf.js";const ge=({className:U=""})=>{const r=m.useRef(null),J=m.useRef(null),K=m.useRef(null),Q=m.useRef(null),o=m.useRef(null),C=m.useRef([]),E=m.useRef([]);m.useRef(null);const B=m.useRef({x:0,y:0}),R=m.useRef(!1),[S,Z]=m.useState(!1);return m.useEffect(()=>{if(!r.current)return;const u=new ae;J.current=u;const g=new re(75,r.current.clientWidth/r.current.clientHeight,.1,1e3);g.position.z=5,K.current=g;const z=window.innerWidth<768,p=new oe({alpha:!0,antialias:!z,powerPreference:"high-performance"});p.setSize(r.current.clientWidth,r.current.clientHeight),p.setPixelRatio(Math.min(window.devicePixelRatio,z?1.5:2)),p.setClearColor(0,0),r.current.appendChild(p.domElement),Q.current=p;const _=new L(1.5,64,64),ee=new se({color:55807,emissive:55807,emissiveIntensity:0,transparent:!0,opacity:.08,metalness:.1,roughness:.1,transmission:.9,thickness:.5,envMapIntensity:1,clearcoat:1,clearcoatRoughness:.1}),j=new A(_,ee);u.add(j),o.current=j;const b=(()=>{const t=[],e=new L(.03,16,16),n=window.innerWidth<768,h=n?25:50,y=n?50:100;for(let a=0;a<h;a++){const i=Math.random()*Math.PI*2,l=Math.acos(Math.random()*2-1),c=.5+Math.random()*.8,d=c*Math.sin(l)*Math.cos(i),w=c*Math.sin(l)*Math.sin(i),x=c*Math.cos(l),N=new T({color:55807,transparent:!0,opacity:.3}),s=new A(e,N);s.position.set(d,w,x),u.add(s),t.push({position:new v(d,w,x),mesh:s,pulsePhase:Math.random()*Math.PI*2,connections:[]})}for(let a=0;a<y;a++){const i=Math.random()*Math.PI*2,l=Math.acos(Math.random()*2-1),c=2+Math.random()*3,d=c*Math.sin(l)*Math.cos(i),w=c*Math.sin(l)*Math.sin(i),x=c*Math.cos(l),N=new T({color:55807,transparent:!0,opacity:.2}),s=new L(.015,8,8),f=new A(s,N);f.position.set(d,w,x),u.add(f),t.push({position:new v(d,w,x),mesh:f,pulsePhase:Math.random()*Math.PI*2,connections:[]})}return t})();C.current=b;const te=(()=>{const t=[];return b.forEach((e,n)=>{const h=3+Math.floor(Math.random()*3);b.map((a,i)=>({index:i,distance:e.position.distanceTo(a.position)})).filter(a=>a.index!==n).sort((a,i)=>a.distance-i.distance).slice(0,h).forEach(a=>{if(!e.connections.includes(a.index)){e.connections.push(a.index);const i=[];i.push(e.position),i.push(b[a.index].position);const l=new X().setFromPoints(i),c=new ie({color:55807,transparent:!0,opacity:.15,linewidth:1}),d=new le(l,c);u.add(d),t.push(d)}})}),t})();E.current=te;const ne=new ce(16777215,.5);u.add(ne);const I=new q(55807,1,100);I.position.set(5,5,5),u.add(I);const F=new q(39423,.5,100);F.position.set(-5,-5,-5),u.add(F);let D,G=0;const W=()=>{D=requestAnimationFrame(W),o.current&&(o.current.rotation.y+=.005,o.current.rotation.x+=.002);const t=Date.now()*.001;if(C.current.forEach(e=>{const n=1+Math.sin(t*3+e.pulsePhase)*.5;e.mesh.scale.set(n,n,n);const h=e.mesh.material;h.opacity=.15+Math.sin(t*3+e.pulsePhase)*.2}),G+=.05,E.current.forEach((e,n)=>{const h=e.material,y=Math.sin(G+n*.3);h.opacity=.08+y*.15}),R.current&&o.current){o.current.scale.lerp(new v(1.2,1.2,1.2),.15);const n=o.current.material;n.opacity=Math.min(n.opacity+.02,.2),n.emissiveIntensity=.3}else if(o.current){o.current.scale.lerp(new v(1,1,1),.15);const n=o.current.material;n.opacity=Math.max(n.opacity-.02,.08),n.emissiveIntensity=0}p.render(u,g)};W(),Z(!0);const H=t=>{if(!r.current)return;const e=r.current.getBoundingClientRect();B.current.x=(t.clientX-e.left)/e.width*2-1,B.current.y=-((t.clientY-e.top)/e.height)*2+1;const n=new Y;if(n.setFromCamera(new $(B.current.x,B.current.y),g),o.current){const h=n.intersectObject(o.current);R.current=h.length>0}},O=t=>{if(!r.current||!R.current)return;const e=r.current.getBoundingClientRect(),n=(t.clientX-e.left)/e.width*2-1,h=-((t.clientY-e.top)/e.height)*2+1,y=new Y;if(y.setFromCamera(new $(n,h),g),o.current){const a=y.intersectObject(o.current);if(a.length>0){const l=new Float32Array(90);for(let s=0;s<30;s++){const f=s*3;l[f]=a[0].point.x+(Math.random()-.5)*.5,l[f+1]=a[0].point.y+(Math.random()-.5)*.5,l[f+2]=a[0].point.z+(Math.random()-.5)*.5}const c=new X;c.setAttribute("position",new de(l,3));const d=new me({color:55807,size:.05,transparent:!0,opacity:1}),w=new ue(c,d);u.add(w);let x=0;const N=()=>{x++;const s=c.attributes.position.array;for(let f=0;f<30;f++){const k=f*3,P=new v(s[k]-a[0].point.x,s[k+1]-a[0].point.y,s[k+2]-a[0].point.z).normalize();s[k]+=P.x*.02,s[k+1]+=P.y*.02,s[k+2]+=P.z*.02}c.attributes.position.needsUpdate=!0,d.opacity-=.02,x<50&&d.opacity>0?requestAnimationFrame(N):(u.remove(w),c.dispose(),d.dispose())};N()}}};r.current.addEventListener("mousemove",H),r.current.addEventListener("click",O);const V=()=>{if(!r.current)return;const t=r.current.clientWidth,e=r.current.clientHeight;g.aspect=t/e,g.updateProjectionMatrix(),p.setSize(t,e)};return window.addEventListener("resize",V),()=>{cancelAnimationFrame(D),window.removeEventListener("resize",V),r.current&&(r.current.removeEventListener("mousemove",H),r.current.removeEventListener("click",O),p.domElement&&r.current.contains(p.domElement)&&r.current.removeChild(p.domElement)),C.current.forEach(t=>{t.mesh.geometry.dispose(),t.mesh.material.dispose()}),E.current.forEach(t=>{t.geometry.dispose(),t.material.dispose()}),o.current&&(o.current.geometry.dispose(),o.current.material.dispose()),p.dispose()}},[]),M.jsxs(M.Fragment,{children:[!S&&M.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-gradient-radial from-slate-900 to-black","data-matrix-id":"src/components/NeuralNetworkBackground.tsx:412:8","data-matrix-name":"div","data-component-path":"src/components/NeuralNetworkBackground.tsx","data-component-line":"412","data-component-file":"NeuralNetworkBackground.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22absolute%20inset-0%20flex%20items-center%20justify-center%20bg-gradient-radial%20from-slate-900%20to-black%22%7D",children:M.jsxs("div",{className:"flex flex-col items-center gap-4","data-matrix-id":"src/components/NeuralNetworkBackground.tsx:413:10","data-matrix-name":"div","data-component-path":"src/components/NeuralNetworkBackground.tsx","data-component-line":"413","data-component-file":"NeuralNetworkBackground.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20flex-col%20items-center%20gap-4%22%7D",children:[M.jsx("div",{className:"w-12 h-12 border-4 border-cyan-500 border-t-transparent rounded-full animate-spin","data-matrix-id":"src/components/NeuralNetworkBackground.tsx:414:12","data-matrix-name":"div","data-component-path":"src/components/NeuralNetworkBackground.tsx","data-component-line":"414","data-component-file":"NeuralNetworkBackground.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22w-12%20h-12%20border-4%20border-cyan-500%20border-t-transparent%20rounded-full%20animate-spin%22%7D"}),M.jsx("p",{className:"text-cyan-400 text-sm font-medium animate-pulse","data-matrix-id":"src/components/NeuralNetworkBackground.tsx:415:12","data-matrix-name":"p","data-component-path":"src/components/NeuralNetworkBackground.tsx","data-component-line":"415","data-component-file":"NeuralNetworkBackground.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22text-cyan-400%20text-sm%20font-medium%20animate-pulse%22%7D",children:"Inicializando Red Neuronal..."})]})}),M.jsx("div",{ref:r,className:`inset-0 transition-opacity duration-500 ${S?"opacity-100":"opacity-0"} ${U} z-0`,style:{background:"radial-gradient(circle at center, #0a1929 0%, #000814 100%)",cursor:R.current?"pointer":"default",pointerEvents:"auto"},"data-matrix-id":"src/components/NeuralNetworkBackground.tsx:421:6","data-matrix-name":"div","data-component-path":"src/components/NeuralNetworkBackground.tsx","data-component-line":"421","data-component-file":"NeuralNetworkBackground.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22%5BTemplateLiteral%5D%22%2C%22style%22%3A%7B%22background%22%3A%22radial-gradient(circle%20at%20center%2C%20%230a1929%200%25%2C%20%23000814%20100%25)%22%2C%22cursor%22%3A%22%5BConditionalExpression%5D%22%2C%22pointerEvents%22%3A%22auto%22%7D%7D"})]})};export{ge as NeuralNetworkBackground};
